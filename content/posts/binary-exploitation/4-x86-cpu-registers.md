---
title: "Binary Exploitation 4: x86 CPU Registers"
date: 2023-06-17T00:00:00+02:00
draft: false
tags:
  - binary exploitation
---

Registers are small storage locations within the processor used for temporary data storage and processing. In x86 world each register can hold 32 bits of data (4 bytes). Most of them can be split down to smaller sizes like 16 or even 8 bits. Some of more important registers are the following.

### General purpose registers
| Register | Description |
| -------- | ----------- |
| EAX | Accumulator - used in arithmetics and usually for return value |
| EBX | Base - used as a pointer to data |
| ECX | Counter - used in loop operations |
| EDX | Data - used in arithmetics |
| ESI | Source index - used as a pointer to a source in string and memory array copying |
| EDI | Destination index - used as a pointer to a destination in string and memory array copying |
| EBP | Base pointer - pointer to the start of the current stack frame |
| ESP | Stack pointer - pointer to the top of the stack |

Registers EAX, EBX, ECX and EDX can be split down to smaller sizes. With AX we address lower 16-bits of EAX register. With AH we address higher 8-bits of AX and with AL lower 8-bits. But these are still same physical register, so if we modify AL, we also modify AX and EAX.

```
                         8 bits   8 bits
                        <------> <------>
     +--------+--------+--------+--------+
EAX: |        |        |   AH   |   AL   |
     +--------+--------+--------+--------+
                        <--------------->  
                            AX (16 bits)

```

### Instruction pointer

The EIP register stores the address of the next instruction to be executed.

### Flags register

The EFLAGS register stores a collection of bits representing Boolean flags that indicate state of the processor and outcomes of certain arithmetical and logical operations. Some of these flags are:
- CF - carry flag
- ZF - zero flag
- SF - sign flag

These flags can be used for conditional branching and decision-making in program execution.
